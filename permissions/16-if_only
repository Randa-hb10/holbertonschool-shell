#!/bin/bash
FILE="hello"
EXPECTED_OWNER="guillaume"
TARGET_USER="vincent"
[ -e "$FILE" ] || exit 0
current_owner=$(stat -c '%U' "$FILE" 2>/dev/null) || exit 0
[ "$current_owner" = "$EXPECTED_OWNER" ] || exit 0
getent passwd "$TARGET_USER" >/dev/null 2>&1 || exit 0
chown "$TARGET_USER" "$FILE" 2>/dev/null || exit 0
exit 0
